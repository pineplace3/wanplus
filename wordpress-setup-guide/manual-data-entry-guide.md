# ACFフィールドへの手動データ登録ガイド

このガイドでは、WordPress管理画面からACFフィールドにデータを手動で登録する方法を説明します。

## 前提条件

- カスタム投稿タイプ「ドッグラン」が作成されていること
- ACFフィールドグループが設定されていること
- WordPress管理画面にアクセスできること

## 手動登録の手順

### ステップ1: 新規投稿の作成

1. WordPress管理画面にログイン
2. 左メニューから「ドッグラン」をクリック
3. 「新規追加」ボタンをクリック

### ステップ2: 基本情報の入力

#### タイトル（必須）

- 投稿のタイトル欄に施設名を入力
  - 例: `あずかわ森のドッグラン`
- **注意**: タイトルは必須ですが、実際の表示にはACFの「名前」フィールドを使用します

#### スラッグ（URL）

- タイトルを入力すると自動的にスラッグが生成されます
- 必要に応じて「スラッグ」欄で編集可能
  - 例: `dr-azukawa`

### ステップ3: ACFフィールドへのデータ入力

投稿編集画面を下にスクロールすると、ACFフィールドグループが表示されます。

#### 基本情報セクション

1. **名前** (`name`)
   - 必須フィールド
   - 例: `あずかわ森のドッグラン`

2. **説明** (`description`)
   - 必須フィールド
   - テキストエリアに説明文を入力
   - 例: `木陰が気持ちいい森のドッグラン。共用エリアと小型犬専用エリアがあり、芝生メインで走りやすいフィールドです。`

3. **画像URL** (`image`)
   - 必須フィールド
   - 「画像を選択」ボタンをクリック
   - メディアライブラリから画像を選択、または新規アップロード
   - 画像を選択後、「画像URLをコピー」をクリックしてURLを取得
   - または、外部URLを直接入力
   - 例: `https://images.unsplash.com/photo-1560807707-8cc77767d783?auto=format&fit=crop&w=1200&q=80`

4. **都道府県** (`prefecture`)
   - 必須フィールド
   - テキストフィールドに入力
   - 例: `東京都`

5. **市区町村** (`city`)
   - 必須フィールド
   - テキストフィールドに入力
   - 例: `昭島市`

6. **住所詳細** (`line1`)
   - 任意フィールド
   - テキストフィールドに入力
   - 例: `昭和町 2-10`

7. **営業時間** (`hours`)
   - 任意フィールド
   - テキストフィールドに入力
   - 例: `9:00 - 18:00`

8. **定休日** (`holidays`)
   - 任意フィールド
   - テキストフィールドに入力
   - 例: `火曜`

9. **電話番号** (`phone`)
   - 任意フィールド
   - テキストフィールドに入力
   - 例: `042-000-1234`

10. **ウェブサイト** (`website`)
    - 任意フィールド
    - URLフィールドに完全なURLを入力
    - 例: `https://example.com/azukawa-dogrun`

11. **Xアカウント** (`x_account`)
    - 任意フィールド
    - テキストフィールドに入力
    - 例: `@azukawa_dogrun`

12. **Instagramアカウント** (`instagram_account`)
    - 任意フィールド
    - テキストフィールドに入力
    - 例: `@azukawa_dogrun`

13. **料金** (`fee`)
    - 任意フィールド
    - テキストフィールドに入力
    - 例: `無料` または `1回 500円`

#### 施設情報セクション

14. **駐車場** (`parking`)
    - 必須フィールド
    - チェックボックスをクリックして有効化
    - ✅ チェック = 駐車場あり
    - ❌ 未チェック = 駐車場なし

15. **エリア分け** (`zone`)
    - 必須フィールド
    - ドロップダウンから選択
    - 選択肢:
      - `共用のみ`
      - `小型犬専用あり`
      - `大型犬専用あり`
      - `共用あり`

16. **地面の素材** (`ground`)
    - 必須フィールド
    - ドロップダウンから選択
    - 選択肢:
      - `土`
      - `砂`
      - `芝`

#### 設備情報セクション

17. **水飲み場** (`facility_water`)
    - 必須フィールド
    - ドロップダウンから選択
    - 選択肢: `あり` / `なし` / `不明`

18. **足洗い場** (`facility_foot_wash`)
    - 必須フィールド
    - ドロップダウンから選択
    - 選択肢: `あり` / `なし` / `不明`

19. **アジリティ** (`facility_agility`)
    - 必須フィールド
    - ドロップダウンから選択
    - 選択肢: `あり` / `なし` / `不明`

20. **照明施設** (`facility_lights`)
    - 必須フィールド
    - ドロップダウンから選択
    - 選択肢: `あり` / `なし` / `不明`

#### その他セクション

21. **利用条件** (`conditions`)
    - 任意フィールド
    - テキストエリアに入力
    - 例: `一年以内の狂犬病・混合ワクチン接種証明の提示`

22. **マナーウェア** (`manners_wear`)
    - 任意フィールド
    - ドロップダウンから選択
    - 選択肢: `義務あり` / `義務なし` / `不明`

### ステップ4: 投稿の公開

1. 右上の「公開」ボタンをクリック
2. または「下書きとして保存」で一時保存

### ステップ5: 確認

1. 投稿一覧画面で新規投稿が表示されているか確認
2. REST APIで確認:
   ```
   https://your-site.com/wp-json/wp/v2/dog_run
   ```
3. 投稿を開いて、ACFフィールドにデータが正しく保存されているか確認

## 一括登録の方法（CSVインポート）

複数のデータを一度に登録したい場合は、以下のプラグインを使用できます：

### 推奨プラグイン

1. **WP All Import** - CSV/XMLからの一括インポートに対応
2. **ACF CSV Import** - ACFフィールド専用のCSVインポート

### CSVインポートの手順（WP All Import使用例）

1. 「WP All Import」プラグインをインストール・有効化
2. 「All Import」→「New Import」をクリック
3. CSVファイルをアップロード
4. インポート設定で「Custom Post Type: ドッグラン」を選択
5. フィールドマッピングでACFフィールドとCSV列を対応付け
6. インポートを実行

## よくある質問

### Q: 必須フィールドを入力せずに保存できますか？

A: 必須フィールドが未入力の場合、ACFが警告を表示します。必須フィールドをすべて入力してから保存してください。

### Q: 画像URLは外部URLでも大丈夫ですか？

A: はい、外部URLでも問題ありません。ただし、画像が削除されると表示できなくなるため、可能であればWordPressのメディアライブラリにアップロードすることを推奨します。

### Q: 一度に複数の投稿を編集できますか？

A: 投稿一覧画面で「一括編集」機能を使用できますが、ACFフィールドは一括編集の対象外です。ACFフィールドは各投稿の編集画面から個別に入力する必要があります。

### Q: データをエクスポートできますか？

A: はい、以下の方法があります：
- 「WP All Export」プラグインを使用
- REST APIから直接取得
- データベースから直接エクスポート

## サンプルデータの活用

`wordpress-sample-data/dog-runs-sample.json` にサンプルデータが用意されています。このJSONファイルを参考に、各フィールドにデータを入力してください。

## 次のステップ

1. サンプルデータを参考に、実際のデータを登録
2. REST APIでデータが正しく取得できることを確認
3. Next.js側でAPI連携を実装
